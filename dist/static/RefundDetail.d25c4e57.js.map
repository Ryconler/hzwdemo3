{"version":3,"file":"RefundDetail.d25c4e57.js","sources":["../../node_modules/vant/es/steps/Steps.mjs","../../node_modules/vant/es/step/Step.mjs","../../node_modules/vant/es/step/index.mjs","../../node_modules/vant/es/steps/index.mjs","../../src/views/refund-detail/RefundDetail.vue"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { makeStringProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { useChildren } from \"@vant/use\";\nconst [name, bem] = createNamespace(\"steps\");\nconst stepsProps = {\n  active: makeNumericProp(0),\n  direction: makeStringProp(\"horizontal\"),\n  activeIcon: makeStringProp(\"checked\"),\n  iconPrefix: String,\n  finishIcon: String,\n  activeColor: String,\n  inactiveIcon: String,\n  inactiveColor: String\n};\nconst STEPS_KEY = Symbol(name);\nvar stdin_default = defineComponent({\n  name,\n  props: stepsProps,\n  emits: [\"click-step\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      linkChildren\n    } = useChildren(STEPS_KEY);\n    const onClickStep = (index) => emit(\"click-step\", index);\n    linkChildren({\n      props,\n      onClickStep\n    });\n    return () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"class\": bem([props.direction])\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"items\")\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])]);\n    };\n  }\n});\nexport {\n  STEPS_KEY,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { BORDER, createNamespace } from \"../utils/index.mjs\";\nimport { STEPS_KEY } from \"../steps/Steps.mjs\";\nimport { useParent } from \"@vant/use\";\nimport { Icon } from \"../icon/index.mjs\";\nconst [name, bem] = createNamespace(\"step\");\nvar stdin_default = defineComponent({\n  name,\n  setup(props, {\n    slots\n  }) {\n    const {\n      parent,\n      index\n    } = useParent(STEPS_KEY);\n    if (!parent) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"[Vant] <Step> must be a child component of <Steps>.\");\n      }\n      return;\n    }\n    const parentProps = parent.props;\n    const getStatus = () => {\n      const active = +parentProps.active;\n      if (index.value < active) {\n        return \"finish\";\n      }\n      return index.value === active ? \"process\" : \"waiting\";\n    };\n    const isActive = () => getStatus() === \"process\";\n    const lineStyle = computed(() => ({\n      background: getStatus() === \"finish\" ? parentProps.activeColor : parentProps.inactiveColor\n    }));\n    const titleStyle = computed(() => {\n      if (isActive()) {\n        return {\n          color: parentProps.activeColor\n        };\n      }\n      if (getStatus() === \"waiting\") {\n        return {\n          color: parentProps.inactiveColor\n        };\n      }\n    });\n    const onClickStep = () => parent.onClickStep(index.value);\n    const renderCircle = () => {\n      const {\n        iconPrefix,\n        finishIcon,\n        activeIcon,\n        activeColor,\n        inactiveIcon\n      } = parentProps;\n      if (isActive()) {\n        if (slots[\"active-icon\"]) {\n          return slots[\"active-icon\"]();\n        }\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\", \"active\"),\n          \"name\": activeIcon,\n          \"color\": activeColor,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (getStatus() === \"finish\" && (finishIcon || slots[\"finish-icon\"])) {\n        if (slots[\"finish-icon\"]) {\n          return slots[\"finish-icon\"]();\n        }\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\", \"finish\"),\n          \"name\": finishIcon,\n          \"color\": activeColor,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      if (slots[\"inactive-icon\"]) {\n        return slots[\"inactive-icon\"]();\n      }\n      if (inactiveIcon) {\n        return _createVNode(Icon, {\n          \"class\": bem(\"icon\"),\n          \"name\": inactiveIcon,\n          \"classPrefix\": iconPrefix\n        }, null);\n      }\n      return _createVNode(\"i\", {\n        \"class\": bem(\"circle\"),\n        \"style\": lineStyle.value\n      }, null);\n    };\n    return () => {\n      var _a;\n      const status = getStatus();\n      return _createVNode(\"div\", {\n        \"class\": [BORDER, bem([parentProps.direction, {\n          [status]: status\n        }])]\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"title\", {\n          active: isActive()\n        }),\n        \"style\": titleStyle.value,\n        \"onClick\": onClickStep\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]), _createVNode(\"div\", {\n        \"class\": bem(\"circle-container\"),\n        \"onClick\": onClickStep\n      }, [renderCircle()]), _createVNode(\"div\", {\n        \"class\": bem(\"line\"),\n        \"style\": lineStyle.value\n      }, null)]);\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Step from \"./Step.mjs\";\nconst Step = withInstall(_Step);\nvar stdin_default = Step;\nexport {\n  Step,\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Steps from \"./Steps.mjs\";\nconst Steps = withInstall(_Steps);\nvar stdin_default = Steps;\nexport {\n  Steps,\n  stdin_default as default\n};\n","<template>\n  <div v-if=\"refundDetail\" class=\"refund-detail\">\n    <div class=\"refund-detail-wrap\">\n      <section class=\"info\">\n        <h2 class=\"section-title pf-medium\">退款信息</h2>\n        <ul class=\"table-list\">\n          <li class=\"table-item\">\n            <span class=\"name\">退款单号：</span>\n            <div class=\"value pf-medium\">\n              {{ refundDetail.id\n              }}<span\n                :style=\"{ color: '#ff397e', marginLeft: `${10 / 37.5}rem` }\"\n                @click=\"copyClick\"\n                >复制</span\n              >\n            </div>\n          </li>\n          <li class=\"table-item\">\n            <span class=\"name\">退款金额：</span>\n            <div class=\"value pf-medium\">\n              ¥{{ getYenPrice(refundDetail.refundAmount) }}\n            </div>\n          </li>\n          <li class=\"table-item\">\n            <span class=\"name\">退款方式：</span>\n            <div class=\"value pf-medium\">原路返回</div>\n          </li>\n        </ul>\n      </section>\n      <section\n        v-if=\"refundDetail.flowList && refundDetail.flowList.length > 0\"\n        class=\"flow\"\n      >\n        <h2 class=\"section-title pf-medium\">退款流程</h2>\n        <div class=\"dividle\"></div>\n        <VanSteps\n          class=\"flow-steps\"\n          direction=\"vertical\"\n          :active=\"refundDetail.flowList.length - 1\"\n        >\n          <VanStep\n            v-for=\"item in refundDetail.flowList\"\n            :key=\"item.createTime\"\n            class=\"flow-step\"\n          >\n            <h3 class=\"pf-medium\">{{ item.statusDesc }}</h3>\n            <p>{{ moment(item.createTime).format('YYYY-MM-DD HH:mm') }}</p>\n          </VanStep>\n        </VanSteps>\n      </section>\n      <div class=\"menu_wkBox_back_box\"></div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { copyTextClipboard, getYenPrice, setPage, toLogin } from '@/utils'\nimport { onMounted, Ref, ref } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { queryRefundDetail } from '@/api/order'\nimport { RefundOrderType } from '@/types/order'\nimport { Toast } from 'vant'\nimport moment from 'moment'\n\nconst route = useRoute()\n\nsetPage({\n  title: '退款详情',\n  share: false\n})\n\nconst orderId = ref(<string>route.query.orderId)\nconst refundDetail: Ref<RefundOrderType | null> = ref(null)\n\nonMounted(async () => {\n  try {\n    refundDetail.value = await queryRefundDetail(orderId.value)\n  } catch (error: any) {\n    console.error(error)\n    if (error?.code == '4') {\n      return toLogin()\n    } else {\n      Toast(error?.msg || '网络错误')\n    }\n  }\n})\n\nconst copyClick = async () => {\n  const res = await copyTextClipboard(String(refundDetail.value?.id))\n  if (res) {\n    Toast('复制成功')\n  } else {\n    Toast('复制失败')\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.refund-detail {\n  .refund-detail-wrap {\n    padding: 10px 12px;\n    section {\n      border-radius: 8px;\n      padding: 0 12px 16px;\n      background: #ffffff;\n      overflow: hidden;\n      margin-bottom: 10px;\n      h2.section-title {\n        padding: 16px 0 12px;\n        font-size: 15px;\n        color: #121212;\n        line-height: 18px;\n      }\n      ul.table-list {\n        li.table-item {\n          display: flex;\n          flex-wrap: nowrap;\n          justify-content: space-between;\n          align-items: center;\n          min-height: 16px;\n          margin-bottom: 12px;\n          &:last-of-type {\n            margin-bottom: 0;\n          }\n          .name {\n            flex: none;\n            font-size: 13px;\n            color: #262626;\n            line-height: 16px;\n            margin-right: 8px;\n          }\n          .value {\n            flex: 1;\n            text-align: left;\n            font-size: 13px;\n            color: #262626;\n            line-height: 16px;\n          }\n        }\n      }\n      .dividle {\n        height: 1px;\n        background: #ededed;\n      }\n    }\n    section.flow {\n      .flow-steps {\n        margin-top: 16px;\n        padding-left: 28px;\n        .flow-step {\n          padding-top: 0;\n          padding-bottom: 16px;\n          &::after {\n            display: none;\n          }\n          &:last-child {\n            padding-bottom: 0;\n          }\n          :deep(.van-step__title) {\n            h3 {\n              font-size: 14px;\n              color: #262626;\n              line-height: 16px;\n              margin-bottom: 6px;\n            }\n            p {\n              font-size: 12px;\n              color: #666666;\n              line-height: 16px;\n            }\n          }\n          :deep(.van-step__circle-container) {\n            left: -24px;\n            top: 8px;\n            font-size: 8px;\n            i {\n              border-radius: 50%;\n              width: 8px;\n              height: 8px;\n              background: #ebebeb;\n            }\n            i.van-step__icon--active {\n              background: #ff397e;\n              &::before {\n                display: none;\n              }\n            }\n          }\n          :deep(.van-step__line) {\n            left: -24.5px;\n            top: 8px;\n            background: #ebebeb;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["name","bem","createNamespace","stepsProps","makeNumericProp","makeStringProp","STEPS_KEY","stdin_default","defineComponent","props","emit","slots","linkChildren","useChildren","index","_a","_createVNode","parent","useParent","parentProps","getStatus","active","isActive","lineStyle","computed","titleStyle","onClickStep","renderCircle","iconPrefix","finishIcon","activeIcon","activeColor","inactiveIcon","Icon","status","BORDER","Step","withInstall","_Step","Steps","_Steps","route","useRoute","setPage","orderId","ref","refundDetail","onMounted","__async","queryRefundDetail","error","toLogin","Toast","copyClick","copyTextClipboard"],"mappings":"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"}