{"version":3,"file":"OrderDetail-legacy.fad7dea1.js","sources":["../../node_modules/vant/es/composables/use-placeholder.mjs","../../node_modules/vant/es/composables/use-height.mjs","../../node_modules/vant/es/action-bar/ActionBar.mjs","../../node_modules/vant/es/action-bar/index.mjs","../../node_modules/vant/es/button/Button.mjs","../../node_modules/vant/es/button/index.mjs","../../node_modules/vant/es/action-bar-button/ActionBarButton.mjs","../../node_modules/vant/es/action-bar-button/index.mjs","../../node_modules/vant/es/dialog/Dialog.mjs","../../node_modules/vant/es/dialog/function-call.mjs","../../src/views/order-detail/OrderDetail.vue"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { useHeight } from \"./use-height.mjs\";\nfunction usePlaceholder(contentRef, bem) {\n  const height = useHeight(contentRef, true);\n  return (renderContent) => _createVNode(\"div\", {\n    \"class\": bem(\"placeholder\"),\n    \"style\": {\n      height: height.value ? `${height.value}px` : void 0\n    }\n  }, [renderContent()]);\n}\nexport {\n  usePlaceholder\n};\n","import { useRect } from \"@vant/use\";\nimport { ref, onMounted, nextTick } from \"vue\";\nimport { onPopupReopen } from \"./on-popup-reopen.mjs\";\nconst useHeight = (element, withSafeArea) => {\n  const height = ref();\n  const setHeight = () => {\n    height.value = useRect(element).height;\n  };\n  onMounted(() => {\n    nextTick(setHeight);\n    if (withSafeArea) {\n      for (let i = 1; i <= 3; i++) {\n        setTimeout(setHeight, 100 * i);\n      }\n    }\n  });\n  onPopupReopen(() => nextTick(setHeight));\n  return height;\n};\nexport {\n  useHeight\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, ref } from \"vue\";\nimport { truthProp, createNamespace } from \"../utils/index.mjs\";\nimport { useChildren } from \"@vant/use\";\nimport { usePlaceholder } from \"../composables/use-placeholder.mjs\";\nconst [name, bem] = createNamespace(\"action-bar\");\nconst ACTION_BAR_KEY = Symbol(name);\nconst actionBarProps = {\n  placeholder: Boolean,\n  safeAreaInsetBottom: truthProp\n};\nvar stdin_default = defineComponent({\n  name,\n  props: actionBarProps,\n  setup(props, {\n    slots\n  }) {\n    const root = ref();\n    const renderPlaceholder = usePlaceholder(root, bem);\n    const {\n      linkChildren\n    } = useChildren(ACTION_BAR_KEY);\n    linkChildren();\n    const renderActionBar = () => {\n      var _a;\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": [bem(), {\n          \"van-safe-area-bottom\": props.safeAreaInsetBottom\n        }]\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n    };\n    return () => {\n      if (props.placeholder) {\n        return renderPlaceholder(renderActionBar);\n      }\n      return renderActionBar();\n    };\n  }\n});\nexport {\n  ACTION_BAR_KEY,\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _ActionBar from \"./ActionBar.mjs\";\nconst ActionBar = withInstall(_ActionBar);\nvar stdin_default = ActionBar;\nexport {\n  ActionBar,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { extend, numericProp, preventDefault, makeStringProp, createNamespace, BORDER_SURROUND } from \"../utils/index.mjs\";\nimport { useRoute, routeProps } from \"../composables/use-route.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem] = createNamespace(\"button\");\nconst buttonProps = extend({}, routeProps, {\n  tag: makeStringProp(\"button\"),\n  text: String,\n  icon: String,\n  type: makeStringProp(\"default\"),\n  size: makeStringProp(\"normal\"),\n  color: String,\n  block: Boolean,\n  plain: Boolean,\n  round: Boolean,\n  square: Boolean,\n  loading: Boolean,\n  hairline: Boolean,\n  disabled: Boolean,\n  iconPrefix: String,\n  nativeType: makeStringProp(\"button\"),\n  loadingSize: numericProp,\n  loadingText: String,\n  loadingType: String,\n  iconPosition: makeStringProp(\"left\")\n});\nvar stdin_default = defineComponent({\n  name,\n  props: buttonProps,\n  emits: [\"click\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const route = useRoute();\n    const renderLoadingIcon = () => {\n      if (slots.loading) {\n        return slots.loading();\n      }\n      return _createVNode(Loading, {\n        \"size\": props.loadingSize,\n        \"type\": props.loadingType,\n        \"class\": bem(\"loading\")\n      }, null);\n    };\n    const renderIcon = () => {\n      if (props.loading) {\n        return renderLoadingIcon();\n      }\n      if (slots.icon) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"icon\")\n        }, [slots.icon()]);\n      }\n      if (props.icon) {\n        return _createVNode(Icon, {\n          \"name\": props.icon,\n          \"class\": bem(\"icon\"),\n          \"classPrefix\": props.iconPrefix\n        }, null);\n      }\n    };\n    const renderText = () => {\n      let text;\n      if (props.loading) {\n        text = props.loadingText;\n      } else {\n        text = slots.default ? slots.default() : props.text;\n      }\n      if (text) {\n        return _createVNode(\"span\", {\n          \"class\": bem(\"text\")\n        }, [text]);\n      }\n    };\n    const getStyle = () => {\n      const {\n        color,\n        plain\n      } = props;\n      if (color) {\n        const style = {\n          color: plain ? color : \"white\"\n        };\n        if (!plain) {\n          style.background = color;\n        }\n        if (color.includes(\"gradient\")) {\n          style.border = 0;\n        } else {\n          style.borderColor = color;\n        }\n        return style;\n      }\n    };\n    const onClick = (event) => {\n      if (props.loading) {\n        preventDefault(event);\n      } else if (!props.disabled) {\n        emit(\"click\", event);\n        route();\n      }\n    };\n    return () => {\n      const {\n        tag,\n        type,\n        size,\n        block,\n        round,\n        plain,\n        square,\n        loading,\n        disabled,\n        hairline,\n        nativeType,\n        iconPosition\n      } = props;\n      const classes = [bem([type, size, {\n        plain,\n        block,\n        round,\n        square,\n        loading,\n        disabled,\n        hairline\n      }]), {\n        [BORDER_SURROUND]: hairline\n      }];\n      return _createVNode(tag, {\n        \"type\": nativeType,\n        \"class\": classes,\n        \"style\": getStyle(),\n        \"disabled\": disabled,\n        \"onClick\": onClick\n      }, {\n        default: () => [_createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [iconPosition === \"left\" && renderIcon(), renderText(), iconPosition === \"right\" && renderIcon()])]\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _Button from \"./Button.mjs\";\nconst Button = withInstall(_Button);\nvar stdin_default = Button;\nexport {\n  Button,\n  stdin_default as default\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { computed, defineComponent } from \"vue\";\nimport { extend, createNamespace } from \"../utils/index.mjs\";\nimport { ACTION_BAR_KEY } from \"../action-bar/ActionBar.mjs\";\nimport { useParent } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useRoute, routeProps } from \"../composables/use-route.mjs\";\nimport { Button } from \"../button/index.mjs\";\nconst [name, bem] = createNamespace(\"action-bar-button\");\nconst actionBarButtonProps = extend({}, routeProps, {\n  type: String,\n  text: String,\n  icon: String,\n  color: String,\n  loading: Boolean,\n  disabled: Boolean\n});\nvar stdin_default = defineComponent({\n  name,\n  props: actionBarButtonProps,\n  setup(props, {\n    slots\n  }) {\n    const route = useRoute();\n    const {\n      parent,\n      index\n    } = useParent(ACTION_BAR_KEY);\n    const isFirst = computed(() => {\n      if (parent) {\n        const prev = parent.children[index.value - 1];\n        return !(prev && \"isButton\" in prev);\n      }\n    });\n    const isLast = computed(() => {\n      if (parent) {\n        const next = parent.children[index.value + 1];\n        return !(next && \"isButton\" in next);\n      }\n    });\n    useExpose({\n      isButton: true\n    });\n    return () => {\n      const {\n        type,\n        icon,\n        text,\n        color,\n        loading,\n        disabled\n      } = props;\n      return _createVNode(Button, {\n        \"class\": bem([type, {\n          last: isLast.value,\n          first: isFirst.value\n        }]),\n        \"size\": \"large\",\n        \"type\": type,\n        \"icon\": icon,\n        \"color\": color,\n        \"loading\": loading,\n        \"disabled\": disabled,\n        \"onClick\": route\n      }, {\n        default: () => [slots.default ? slots.default() : text]\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _ActionBarButton from \"./ActionBarButton.mjs\";\nconst ActionBarButton = withInstall(_ActionBarButton);\nvar stdin_default = ActionBarButton;\nexport {\n  ActionBarButton,\n  stdin_default as default\n};\n","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { ref, reactive, withKeys, defineComponent } from \"vue\";\nimport { noop, pick, extend, addUnit, truthProp, isFunction, BORDER_TOP, BORDER_LEFT, unknownProp, numericProp, makeStringProp, callInterceptor, createNamespace } from \"../utils/index.mjs\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared.mjs\";\nimport { Popup } from \"../popup/index.mjs\";\nimport { Button } from \"../button/index.mjs\";\nimport { ActionBar } from \"../action-bar/index.mjs\";\nimport { ActionBarButton } from \"../action-bar-button/index.mjs\";\nconst [name, bem, t] = createNamespace(\"dialog\");\nconst dialogProps = extend({}, popupSharedProps, {\n  title: String,\n  theme: String,\n  width: numericProp,\n  message: [String, Function],\n  callback: Function,\n  allowHtml: Boolean,\n  className: unknownProp,\n  transition: makeStringProp(\"van-dialog-bounce\"),\n  messageAlign: String,\n  closeOnPopstate: truthProp,\n  showCancelButton: Boolean,\n  cancelButtonText: String,\n  cancelButtonColor: String,\n  cancelButtonDisabled: Boolean,\n  confirmButtonText: String,\n  confirmButtonColor: String,\n  confirmButtonDisabled: Boolean,\n  showConfirmButton: truthProp,\n  closeOnClickOverlay: Boolean\n});\nconst popupInheritKeys = [...popupSharedPropKeys, \"transition\", \"closeOnPopstate\"];\nvar stdin_default = defineComponent({\n  name,\n  props: dialogProps,\n  emits: [\"confirm\", \"cancel\", \"keydown\", \"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const root = ref();\n    const loading = reactive({\n      confirm: false,\n      cancel: false\n    });\n    const updateShow = (value) => emit(\"update:show\", value);\n    const close = (action) => {\n      var _a;\n      updateShow(false);\n      (_a = props.callback) == null ? void 0 : _a.call(props, action);\n    };\n    const getActionHandler = (action) => () => {\n      if (!props.show) {\n        return;\n      }\n      emit(action);\n      if (props.beforeClose) {\n        loading[action] = true;\n        callInterceptor(props.beforeClose, {\n          args: [action],\n          done() {\n            close(action);\n            loading[action] = false;\n          },\n          canceled() {\n            loading[action] = false;\n          }\n        });\n      } else {\n        close(action);\n      }\n    };\n    const onCancel = getActionHandler(\"cancel\");\n    const onConfirm = getActionHandler(\"confirm\");\n    const onKeydown = withKeys((event) => {\n      var _a, _b;\n      if (event.target !== ((_b = (_a = root.value) == null ? void 0 : _a.popupRef) == null ? void 0 : _b.value)) {\n        return;\n      }\n      const onEventType = {\n        Enter: props.showConfirmButton ? onConfirm : noop,\n        Escape: props.showCancelButton ? onCancel : noop\n      };\n      onEventType[event.key]();\n      emit(\"keydown\", event);\n    }, [\"enter\", \"esc\"]);\n    const renderTitle = () => {\n      const title = slots.title ? slots.title() : props.title;\n      if (title) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\", {\n            isolated: !props.message && !slots.default\n          })\n        }, [title]);\n      }\n    };\n    const renderMessage = (hasTitle) => {\n      const {\n        message,\n        allowHtml,\n        messageAlign\n      } = props;\n      const classNames = bem(\"message\", {\n        \"has-title\": hasTitle,\n        [messageAlign]: messageAlign\n      });\n      const content = isFunction(message) ? message() : message;\n      if (allowHtml && typeof content === \"string\") {\n        return _createVNode(\"div\", {\n          \"class\": classNames,\n          \"innerHTML\": content\n        }, null);\n      }\n      return _createVNode(\"div\", {\n        \"class\": classNames\n      }, [content]);\n    };\n    const renderContent = () => {\n      if (slots.default) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"content\")\n        }, [slots.default()]);\n      }\n      const {\n        title,\n        message,\n        allowHtml\n      } = props;\n      if (message) {\n        const hasTitle = !!(title || slots.title);\n        return _createVNode(\"div\", {\n          \"key\": allowHtml ? 1 : 0,\n          \"class\": bem(\"content\", {\n            isolated: !hasTitle\n          })\n        }, [renderMessage(hasTitle)]);\n      }\n    };\n    const renderButtons = () => _createVNode(\"div\", {\n      \"class\": [BORDER_TOP, bem(\"footer\")]\n    }, [props.showCancelButton && _createVNode(Button, {\n      \"size\": \"large\",\n      \"text\": props.cancelButtonText || t(\"cancel\"),\n      \"class\": bem(\"cancel\"),\n      \"style\": {\n        color: props.cancelButtonColor\n      },\n      \"loading\": loading.cancel,\n      \"disabled\": props.cancelButtonDisabled,\n      \"onClick\": onCancel\n    }, null), props.showConfirmButton && _createVNode(Button, {\n      \"size\": \"large\",\n      \"text\": props.confirmButtonText || t(\"confirm\"),\n      \"class\": [bem(\"confirm\"), {\n        [BORDER_LEFT]: props.showCancelButton\n      }],\n      \"style\": {\n        color: props.confirmButtonColor\n      },\n      \"loading\": loading.confirm,\n      \"disabled\": props.confirmButtonDisabled,\n      \"onClick\": onConfirm\n    }, null)]);\n    const renderRoundButtons = () => _createVNode(ActionBar, {\n      \"class\": bem(\"footer\")\n    }, {\n      default: () => [props.showCancelButton && _createVNode(ActionBarButton, {\n        \"type\": \"warning\",\n        \"text\": props.cancelButtonText || t(\"cancel\"),\n        \"class\": bem(\"cancel\"),\n        \"color\": props.cancelButtonColor,\n        \"loading\": loading.cancel,\n        \"disabled\": props.cancelButtonDisabled,\n        \"onClick\": onCancel\n      }, null), props.showConfirmButton && _createVNode(ActionBarButton, {\n        \"type\": \"danger\",\n        \"text\": props.confirmButtonText || t(\"confirm\"),\n        \"class\": bem(\"confirm\"),\n        \"color\": props.confirmButtonColor,\n        \"loading\": loading.confirm,\n        \"disabled\": props.confirmButtonDisabled,\n        \"onClick\": onConfirm\n      }, null)]\n    });\n    const renderFooter = () => {\n      if (slots.footer) {\n        return slots.footer();\n      }\n      return props.theme === \"round-button\" ? renderRoundButtons() : renderButtons();\n    };\n    return () => {\n      const {\n        width,\n        title,\n        theme,\n        message,\n        className\n      } = props;\n      return _createVNode(Popup, _mergeProps({\n        \"ref\": root,\n        \"role\": \"dialog\",\n        \"class\": [bem([theme]), className],\n        \"style\": {\n          width: addUnit(width)\n        },\n        \"tabindex\": 0,\n        \"aria-labelledby\": title || message,\n        \"onKeydown\": onKeydown,\n        \"onUpdate:show\": updateShow\n      }, pick(props, popupInheritKeys)), {\n        default: () => [renderTitle(), renderContent(), renderFooter()]\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { extend, inBrowser, withInstall } from \"../utils/index.mjs\";\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\nimport VanDialog from \"./Dialog.mjs\";\nlet instance;\nfunction initInstance() {\n  const Wrapper = {\n    setup() {\n      const {\n        state,\n        toggle\n      } = usePopupState();\n      return () => _createVNode(VanDialog, _mergeProps(state, {\n        \"onUpdate:show\": toggle\n      }), null);\n    }\n  };\n  ({\n    instance\n  } = mountComponent(Wrapper));\n}\nfunction Dialog(options) {\n  if (!inBrowser) {\n    return Promise.resolve();\n  }\n  return new Promise((resolve, reject) => {\n    if (!instance) {\n      initInstance();\n    }\n    instance.open(extend({}, Dialog.currentOptions, options, {\n      callback: (action) => {\n        (action === \"confirm\" ? resolve : reject)(action);\n      }\n    }));\n  });\n}\nDialog.defaultOptions = {\n  title: \"\",\n  width: \"\",\n  theme: null,\n  message: \"\",\n  overlay: true,\n  callback: null,\n  teleport: \"body\",\n  className: \"\",\n  allowHtml: false,\n  lockScroll: true,\n  transition: void 0,\n  beforeClose: null,\n  overlayClass: \"\",\n  overlayStyle: void 0,\n  messageAlign: \"\",\n  cancelButtonText: \"\",\n  cancelButtonColor: null,\n  cancelButtonDisabled: false,\n  confirmButtonText: \"\",\n  confirmButtonColor: null,\n  confirmButtonDisabled: false,\n  showConfirmButton: true,\n  showCancelButton: false,\n  closeOnPopstate: true,\n  closeOnClickOverlay: false\n};\nDialog.currentOptions = extend({}, Dialog.defaultOptions);\nDialog.alert = Dialog;\nDialog.confirm = (options) => Dialog(extend({\n  showCancelButton: true\n}, options));\nDialog.close = () => {\n  if (instance) {\n    instance.toggle(false);\n  }\n};\nDialog.setDefaultOptions = (options) => {\n  extend(Dialog.currentOptions, options);\n};\nDialog.resetDefaultOptions = () => {\n  Dialog.currentOptions = extend({}, Dialog.defaultOptions);\n};\nDialog.Component = withInstall(VanDialog);\nDialog.install = (app) => {\n  app.use(Dialog.Component);\n  app.config.globalProperties.$dialog = Dialog;\n};\nexport {\n  Dialog\n};\n","<template>\n  <div v-if=\"orderDtail\" class=\"order-detail\">\n    <div class=\"order-bg\" :style=\"{ paddingTop: `${barHeight + navHeight}px` }\">\n      <!-- 全屏页面顶部nav -->\n      <div\n        v-if=\"isFullscreen && barHeight > 0\"\n        class=\"order-nav\"\n        :style=\"{ top: `${barHeight}px`, height: `${navHeight}px` }\"\n      >\n        <i class=\"nav-back\" @click=\"backClick\"></i>\n      </div>\n      <!-- 订单状态icon+文描 -->\n      <h1 v-if=\"orderStatus.text\" class=\"order-status pf-medium\">\n        <i :style=\"{ 'background-image': `url(${orderStatus.icon})` }\"></i\n        >{{ orderStatus.text }}\n      </h1>\n      <!-- 支付倒计时 -->\n      <p\n        v-if=\"orderDtail.orderState == OrderState.WaitPay && orderPayCountDown\"\n        class=\"order-text pf-medium\"\n      >\n        还剩 {{ orderPayCountDown }} 自动取消\n      </p>\n      <!-- 退款完成 -->\n      <p\n        v-if=\"\n          orderDtail.refundState == OrderRefundState.Succeed &&\n          orderDtail.refundTime\n        \"\n        class=\"order-text pf-medium\"\n      >\n        {{ moment(orderDtail.refundTime).format('YYYY-MM-DD HH:mm:ss') }}\n        退款完成\n      </p>\n      <!-- 退款详情 -->\n      <button\n        v-if=\"\n          orderDtail.refundState == OrderRefundState.Applying ||\n          orderDtail.refundState == OrderRefundState.Succeed\n        \"\n        class=\"order-refund-detail\"\n        @click=\"refundDetailClick\"\n      >\n        退款详情<i></i>\n      </button>\n    </div>\n    <div class=\"order-detail-wrap\">\n      <ProductCard\n        v-if=\"productInfo\"\n        class=\"product-comp\"\n        :product=\"productInfo\"\n        @click=\"productClick\"\n      ></ProductCard>\n      <section v-if=\"orderPayed\" class=\"coin\">\n        <h2 class=\"section-title pf-medium\">币值信息</h2>\n        <ul class=\"table-list\">\n          <li class=\"table-item\">\n            <span class=\"name\">充值币值</span>\n            <div class=\"value pf-medium\">\n              {{ orderDtail.rechargeAmount / 100 }}\n            </div>\n          </li>\n          <li class=\"table-item\">\n            <span class=\"name\">赠送币值</span>\n            <div class=\"value pf-medium\">{{ orderDtail.giveAmount / 100 }}</div>\n          </li>\n          <li class=\"table-item\">\n            <span class=\"name\">到账币值</span>\n            <div class=\"value pf-medium\">\n              {{\n                orderDtail.rechargeAmount / 100 + orderDtail.giveAmount / 100\n              }}\n            </div>\n          </li>\n        </ul>\n        <div class=\"dividle\"></div>\n        <ul class=\"table-list\">\n          <li class=\"table-item\">\n            <span class=\"name\">消费币值</span>\n            <div class=\"value pf-medium\">{{ orderDtail.consume / 100 }}</div>\n          </li>\n          <li class=\"table-item\">\n            <span class=\"name\">剩余币值</span>\n            <div class=\"value pf-medium\" style=\"color: #ff397e\">\n              {{ orderDtail.leftAmount / 100 }}\n            </div>\n          </li>\n          <p class=\"coin-tip\">*剩余币值=到账币值-消费币值</p>\n        </ul>\n      </section>\n      <section\n        v-if=\"\n          returnCoupons.length > 0 ||\n          (returnCoins && returnCoins.returnCoinNum > 0)\n        \"\n        class=\"promotion\"\n      >\n        <h2 class=\"section-title pf-medium\">优惠信息</h2>\n        <ul class=\"table-list\">\n          <li v-if=\"returnCoupons.length > 0\" class=\"table-item coupon\">\n            <span class=\"name\">充值返券</span>\n            <div class=\"value pf-medium\">\n              <div v-for=\"(item, index) in returnCoupons\" :key=\"index\">\n                {{ item }}\n              </div>\n            </div>\n          </li>\n          <template v-if=\"returnCoins && returnCoins.returnCoinNum > 0\">\n            <li class=\"table-item\">\n              <span class=\"name\">核销返币</span>\n              <div class=\"value pf-medium\">\n                {{ returnCoins.returnCoinNum / 100 }}\n              </div>\n            </li>\n            <p\n              class=\"promotion-tip\"\n              :class=\"returnCoins.hasReturn ? 'has-return' : ''\"\n              @click=\"showTrips\"\n            >\n              {{ returnCoinNumTitle }}<span></span>\n            </p>\n          </template>\n        </ul>\n      </section>\n      <section class=\"order\">\n        <h2 class=\"section-title pf-medium\">订单信息</h2>\n        <ul class=\"table-list\">\n          <li class=\"table-item\">\n            <span class=\"name\">购买数量</span>\n            <div class=\"value pf-medium\">{{ orderDtail.num }}</div>\n          </li>\n          <li class=\"table-item param-total\">\n            <span class=\"name\">商品总额</span>\n            <div class=\"value pf-medium\">\n              ¥{{ getYenPrice(orderDtail.orderPrice) }}\n            </div>\n          </li>\n          <li class=\"table-item param-total\">\n            <span class=\"name\">{{ orderPayed ? '实付款' : '应付款' }}</span>\n            <div class=\"value pf-medium\" style=\"color: #ff397e\">\n              ¥<em class=\"big\">{{ getYenPrice(orderDtail.payPrice) }}</em>\n            </div>\n          </li>\n        </ul>\n        <div class=\"dividle\"></div>\n        <ul class=\"table-list\">\n          <li class=\"table-item\">\n            <span class=\"name\">订单编号：</span>\n            <div class=\"value pf-medium\">\n              {{ orderDtail.orderId\n              }}<span\n                :style=\"{ color: '#ff397e', marginLeft: `${10 / 37.5}rem` }\"\n                @click=\"copyClick\"\n                >复制</span\n              >\n            </div>\n          </li>\n          <li class=\"table-item param-total\">\n            <span class=\"name\">下单时间：</span>\n            <div class=\"value pf-medium\">\n              {{ moment(orderDtail.orderTime).format('YYYY-MM-DD HH:mm:ss') }}\n            </div>\n          </li>\n          <li class=\"table-item param-total\">\n            <span class=\"name\">订单状态：</span>\n            <div class=\"value pf-medium\">{{ orderStatus.text }}</div>\n          </li>\n        </ul>\n      </section>\n      <div class=\"menu_wkBox_back_box\"></div>\n    </div>\n    <div\n      v-if=\"orderDtail.orderState == OrderState.WaitPay\"\n      class=\"order-detail-action\"\n    >\n      <div class=\"action-wrap\">\n        <button class=\"cancel-button\" @click=\"cancelClick\">取消订单</button>\n        <button class=\"pay-button\" @click=\"payClick\">立即支付</button>\n      </div>\n      <div class=\"menu_wkBox_back_box\"></div>\n    </div>\n    <van-dialog\n      v-if=\"orderDtail.returnCoinsInfo\"\n      v-model:show=\"show\"\n      confirm-button-text=\"知道了\"\n    >\n      <div class=\"dialog-container\">\n        <p>\n          下单成功后，{{\n            orderDtail.returnCoinsInfo.endTime\n              ? orderDtail.returnCoinsInfo.endTime + '之前'\n              : ''\n          }}在以下门店核销1次即可返币：\n        </p>\n        <span\n          v-for=\"(item, index) in orderDtail?.returnCoinsInfo.storeInfo\"\n          :key=\"index\"\n          >·{{ item.storeName }}</span\n        >\n      </div>\n    </van-dialog>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport {\n  copyTextClipboard,\n  getYenPrice,\n  isApp,\n  rem2RealPx,\n  setPage,\n  toLogin,\n  trackView\n} from '@/utils'\nimport { computed, onMounted, Ref, ref, watch } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { cancelOrder, queryOrderDetail } from '@/api/order'\nimport { OrderType } from '@/types/order'\nimport { getOrderStatus, jumpToCashier } from '@/composables/order'\nimport moment from 'moment'\nimport { OrderRefundState, OrderState } from '@/constants/order'\nimport { Toast, Dialog } from 'vant'\nimport { debounce } from 'lodash'\nconst VanDialog = Dialog.Component\nconst route = useRoute()\n\nsetPage({\n  title: '订单详情',\n  share: false\n})\n\nconst isFullscreen = computed(() => {\n  const naviType = route.query.naviType\n  return isApp() && naviType == '4'\n})\n\nconst barHeight = computed(() => {\n  return 0\n})\n\nconst navHeight = computed(() => {\n  if (isFullscreen.value) {\n    return rem2RealPx(44 / 37.5)\n  }\n  return rem2RealPx(22 / 37.5)\n})\n\nconst returnCoinNumTitle = computed(() => {\n  if (returnCoins.value) {\n    if (returnCoins.value.hasReturn) {\n      return '*已核销返币'\n    } else {\n      let str = returnCoins.value.endTime\n        ? returnCoins.value.endTime + '之前'\n        : ''\n      return `未返，${str}在指定门店核销即可返币`\n    }\n  }\n  return ''\n})\n\nconst orderId = ref(<string>route.params.orderId)\nconst orderDtail: Ref<OrderType | null> = ref(null)\nconst orderPayCountDown = ref('')\nlet orderPayCountDownInterval: number\n\n/* 订单状态图标与文字 */\nconst orderStatus = computed(() => {\n  return orderDtail.value ? getOrderStatus(orderDtail.value) : {}\n})\n\n/* 订单是否已支付 */\nconst orderPayed = computed(() => {\n  return (\n    orderStatus.value.text != '待支付' && orderStatus.value.text != '已取消'\n  )\n})\n\nconst productInfo = computed(() => {\n  return (\n    orderDtail.value && {\n      cmmdtyImage: orderDtail.value.commdtyImage,\n      skuName: orderDtail.value.skuName,\n      price: orderDtail.value.skuPrice,\n      giveAmount: orderDtail.value.giveAmount / orderDtail.value.num,\n      rechargeAmount: orderDtail.value.rechargeAmount / orderDtail.value.num,\n      returnCoinNum:\n        (orderDtail.value.returnCoinsInfo &&\n          orderDtail.value.returnCoinsInfo.returnCoinNum /\n            orderDtail.value.num) ??\n        0 //返币\n    }\n  )\n})\n/* 返券 */\nconst returnCoupons = computed(() => {\n  return orderDtail.value?.returnCouponInfo || []\n  // if (orderDtail.value?.returnCouponInfo) {\n  //   return JSON.parse(orderDtail.value.returnCouponInfo) || []\n  // } else {\n  //   return []\n  // }\n})\n/* 返币 */\nconst returnCoins = computed(() => {\n  return orderDtail.value?.returnCoinsInfo\n})\n\nconst show = ref(false)\n\nconst showTrips = () => {\n  if (orderDtail.value?.returnCoinsInfo?.hasReturn) return\n  show.value = true\n}\n\nonMounted(async () => {\n  try {\n    orderDtail.value = await queryOrderDetail(orderId.value)\n  } catch (error: any) {\n    console.error(error)\n    if (error?.code == '4') {\n      return toLogin()\n    } else {\n      Toast(error?.msg || '网络错误')\n    }\n  }\n  if (orderDtail.value?.orderState == OrderState.WaitPay) {\n    let finished = calcOrderPayCountDown()\n    if (!finished) {\n      orderPayCountDownInterval = setInterval(() => {\n        finished = calcOrderPayCountDown()\n        finished && location.reload()\n      }, 1000)\n    }\n  }\n  trackView({\n    bizType: '127',\n    pageLevelId: '121013559',\n    pageParam: { orderid: orderId.value }\n  })\n})\n\n/* 待支付倒计时 */\nfunction calcOrderPayCountDown(): boolean {\n  const nowMoment = moment()\n  const expireMoment = moment(orderDtail.value?.orderTime).add(1, 'hours')\n  if (expireMoment.isValid()) {\n    const diff = expireMoment.diff(nowMoment, 'seconds')\n    if (diff <= 0) {\n      // 倒计时结束\n      clearInterval(orderPayCountDownInterval)\n      orderPayCountDown.value = `${0}分${0}秒`\n      return true\n    } else {\n      const diffMinutes = Math.floor(diff / 60)\n      const diffSeconds = diff % 60\n      orderPayCountDown.value = `${diffMinutes}分${diffSeconds}秒`\n    }\n  } else {\n    clearInterval(orderPayCountDownInterval)\n    orderPayCountDown.value = ''\n  }\n  return false\n}\n\nconst backClick = () => {\n}\n\nconst productClick = () => {\n  location.href = `/hzwdemo3/recharge?kwtarget=blank`\n}\n\nconst copyClick = async () => {\n  const res = await copyTextClipboard(orderDtail.value?.orderId)\n  if (res) {\n    Toast('复制成功')\n  } else {\n    Toast('复制失败')\n  }\n}\n\nconst cancelClick = debounce(\n  async () => {\n    try {\n      await cancelOrder(orderId.value)\n      location.reload()\n    } catch (error: any) {\n      console.error(error)\n      if (error?.code == '4') {\n        return toLogin()\n      } else {\n        Toast(error?.msg || '网络错误')\n      }\n    }\n  },\n  3000,\n  {\n    leading: true,\n    trailing: false\n  }\n)\nconst payClick = () => {\n  orderDtail.value &&\n    jumpToCashier({\n      orderId: orderDtail.value.orderId,\n      partnerId: '3006',\n      payOrderId: orderDtail.value.orderId,\n      state: '1'\n    })\n}\nconst refundDetailClick = () => {\n  location.href = `/hzwdemo3/refund-detail?orderId=${orderId.value}&kwtarget=blank`\n}\n</script>\n<style lang=\"scss\" scoped>\n.order-detail {\n  .order-bg {\n    overflow: hidden;\n    padding-bottom: 84px;\n    margin-bottom: -64px;\n    background: linear-gradient(122deg, #ff2424 0%, #ff387a 95%);\n    .order-nav {\n      position: fixed;\n      left: 0;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      padding: 0 12px;\n      .nav-back {\n        flex: none;\n        width: 22px;\n        height: 22px;\n        background: url(@/assets/images/order-detail/icon-back.png) 0 0/100%\n          100% no-repeat;\n      }\n    }\n    .order-status {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 20px;\n      color: #ffffff;\n      line-height: 24px;\n      margin-bottom: 11px;\n      i {\n        width: 24px;\n        height: 24px;\n        margin-right: 6px;\n        background-size: 100% 100%;\n        background-repeat: no-repeat;\n        background-position: 0 0;\n      }\n    }\n    .order-text {\n      font-size: 13px;\n      color: #ffffff;\n      line-height: 16px;\n      margin-bottom: 8px;\n      text-align: center;\n    }\n    .order-refund-detail {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 80px;\n      height: 22px;\n      border: 0.75px solid #ffffff;\n      border-radius: 10.5px;\n      font-size: 13px;\n      color: #ffffff;\n      line-height: 16px;\n      margin: 0 auto;\n      i {\n        margin-left: 2px;\n        width: 10px;\n        height: 10px;\n        background: url(@/assets/images/order-detail/icon-more.png) 0 0/100%\n          100% no-repeat;\n      }\n    }\n    & > *:last-child {\n      margin-bottom: 0;\n    }\n  }\n  .order-detail-wrap {\n    padding: 0 12px 50px;\n\n    .product-comp {\n      margin-bottom: 10px;\n    }\n    section {\n      border-radius: 8px;\n      padding: 0 12px 16px;\n      background: #ffffff;\n      overflow: hidden;\n      margin-bottom: 10px;\n      h2.section-title {\n        padding: 16px 0 12px;\n        font-size: 15px;\n        color: #121212;\n        line-height: 18px;\n      }\n      ul.table-list {\n        li.table-item {\n          display: flex;\n          flex-wrap: nowrap;\n          justify-content: space-between;\n          align-items: center;\n          min-height: 16px;\n          margin-bottom: 12px;\n          &:last-of-type {\n            margin-bottom: 0;\n          }\n          &.coupon {\n            align-items: flex-start;\n            .value {\n              color: #ff397e;\n              line-height: 22px;\n            }\n          }\n          .name {\n            flex: none;\n            font-size: 13px;\n            color: #262626;\n            line-height: 16px;\n          }\n          .value {\n            flex: 1;\n            text-align: right;\n            font-size: 13px;\n            color: #262626;\n            line-height: 16px;\n            .big {\n              font-size: 16px;\n              vertical-align: baseline;\n            }\n          }\n        }\n        p.coin-tip {\n          margin-top: 5px;\n          font-size: 11px;\n          color: #999999;\n          line-height: 14px;\n        }\n        p.promotion-tip {\n          width: 100%;\n          color: #ff397e;\n          font-size: 11px;\n          margin-top: 5px;\n          line-height: 1.3;\n          text-decoration-line: underline;\n\n          span {\n            width: 12px;\n            min-width: 12px;\n            display: inline-block;\n            height: 12px;\n            transform: translateY(2px);\n            background: url(@/assets/images/order-detail/icon_question.png)\n              no-repeat;\n            background-position: center;\n            background-size: 100% 100%;\n            margin-left: 5px;\n          }\n        }\n        p.promotion-tip.has-return {\n          text-decoration-line: none;\n          color: #999999;\n          span {\n            display: none;\n          }\n        }\n      }\n      ul.table-list ~ .dividle {\n        margin: 16px 0;\n        height: 1px;\n        background: #ededed;\n      }\n    }\n  }\n  .order-detail-action {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    padding: 10px 12px;\n    background: #ffffff;\n    border-top: 1px solid #f0f0f0;\n    .action-wrap {\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 72px;\n        height: 30px;\n        border-radius: 15px;\n        font-size: 12px;\n        line-height: 15px;\n      }\n      button.cancel-button {\n        border: 1px solid #999999;\n        color: #2a2a2a;\n        margin-right: 10px;\n      }\n      button.pay-button {\n        background: linear-gradient(90deg, #ff397e, #ff074c);\n        color: #ffffff;\n      }\n    }\n  }\n}\n\n:deep(.van-popup) {\n  border-radius: 14px;\n  .van-dialog__header {\n    margin-top: 20px;\n    color: #262626;\n    font-weight: 600;\n    font-size: 16px;\n    text-align: center;\n  }\n  .van-dialog__footer {\n    height: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #ff397e;\n    font-weight: 600;\n    font-size: 16px;\n  }\n  .van-button__text {\n    display: block;\n    height: 44px;\n    line-height: 44px;\n    width: 300px;\n  }\n}\n.dialog-container {\n  width: 280px;\n  color: #666666;\n  pad: 20px;\n  max-height: 300px;\n  overflow-y: scroll;\n  line-height: normal;\n  font-family: PingFang SC;\n  font-size: 14px;\n  padding-bottom: 25px;\n  p {\n    margin: 20px 20px 10px;\n  }\n  span {\n    display: block;\n    margin: 0 20px;\n  }\n}\n</style>\n"],"names":["usePlaceholder","contentRef","bem","height","useHeight","element","withSafeArea","ref","setHeight","value","useRect","onMounted","nextTick","i","setTimeout","onPopupReopen","renderContent","_createVNode","class","style","name","createNamespace","ACTION_BAR_KEY","Symbol","actionBarProps","placeholder","Boolean","safeAreaInsetBottom","truthProp","stdin_default","defineComponent","props","setup","slots","root","renderPlaceholder","linkChildren","useChildren","renderActionBar","_a","default","call","ActionBar","withInstall","_ActionBar","buttonProps","extend","routeProps","tag","makeStringProp","text","String","icon","type","size","color","block","plain","round","square","loading","hairline","disabled","iconPrefix","nativeType","loadingSize","numericProp","loadingText","loadingType","iconPosition","emits","emit","route","useRoute","renderIcon","Loading","Icon","classPrefix","renderText","getStyle","background","includes","border","borderColor","onClick","event","preventDefault","classes","BORDER_SURROUND","Button","_Button","actionBarButtonProps","parent","index","useParent","isFirst","computed","prev","children","isLast","next","useExpose","isButton","last","first","ActionBarButton","_ActionBarButton","t","dialogProps","popupSharedProps","title","theme","width","message","Function","callback","allowHtml","className","unknownProp","transition","messageAlign","closeOnPopstate","showCancelButton","cancelButtonText","cancelButtonColor","cancelButtonDisabled","confirmButtonText","confirmButtonColor","confirmButtonDisabled","showConfirmButton","closeOnClickOverlay","popupInheritKeys","popupSharedPropKeys","reactive","confirm","cancel","updateShow","close","action","getActionHandler","show","beforeClose","callInterceptor","args","done","canceled","onCancel","onConfirm","onKeydown","withKeys","_b","target","popupRef","Enter","noop","Escape","key","renderTitle","isolated","renderMessage","hasTitle","classNames","content","isFunction","innerHTML","renderFooter","footer","BORDER_TOP","BORDER_LEFT","Popup","_mergeProps","role","addUnit","tabindex","pick","instance","Dialog","options","inBrowser","Promise","resolve","reject","Wrapper","state","toggle","usePopupState","VanDialog","mountComponent","initInstance","open","currentOptions","defaultOptions","overlay","teleport","lockScroll","overlayClass","overlayStyle","alert","setDefaultOptions","resetDefaultOptions","Component","install","app","use","config","globalProperties","$dialog","setPage","share","isFullscreen","naviType","query","isApp","barHeight","navHeight","rem2RealPx","returnCoinNumTitle","returnCoins","hasReturn","endTime","orderId","params","orderDtail","orderPayCountDown","orderPayCountDownInterval","orderStatus","getOrderStatus","orderPayed","productInfo","cmmdtyImage","commdtyImage","skuName","price","skuPrice","giveAmount","num","rechargeAmount","returnCoinNum","returnCoinsInfo","returnCoupons","returnCouponInfo","showTrips","calcOrderPayCountDown","nowMoment","moment","expireMoment","orderTime","add","isValid","diff","clearInterval","diffMinutes","Math","floor","diffSeconds","async","queryOrderDetail","error","console","code","toLogin","Toast","msg","orderState","OrderState","WaitPay","finished","setInterval","location","reload","trackView","bizType","pageLevelId","pageParam","orderid","backClick","productClick","href","copyClick","res","copyTextClipboard","cancelClick","debounce","exports","cancelOrder","leading","trailing","payClick","jumpToCashier","partnerId","payOrderId","refundDetailClick"],"mappings":"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"}